<p id="notice"><%= notice %></p>

<h3>Classificador: <span class="small"><%= @category.to_s %></span></h3>
<hr>
<p>
  <strong>Empresa:</strong></span>
<%= link_to @category.company, @category.company %>
</p>

<p>
  <strong>Tipo de Classificador:</strong>
  <%= @category.datatype_string %>
</p>

<p>
  <strong>Classificador:</strong>
  <%= @category.tab_name %>
</p>

<p>
  <strong>Opera&ccedil;&atilde;o:</strong>
  <%= @category.operation_string %>
</p>

<p>
  <strong>Par&acirc;metro:</strong>
  <%= @category.tab_value %>
</p>

<% unless @category.code.blank? %>
<p>
  <strong>Classe:</strong>
  <%= @category.code %>
</p>
<% end %>

<% unless @category.parent.nil? %>
<p>
  <strong>Supercategoria:</strong>
  <%= @category.parent %>
</p>
<% end %>

<p>
  <strong>Subcategoriza&ccedil;&atilde;o:</strong>

  <table class="table">
    <thead>
      <tr>
        <th>Tipo de Classificador</th>
        <th>Classificador</th>
        <th>Opera&ccedil;&atilde;o</th>
        <th>Par&acirc;metro</th>
        <th>Classe</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @subcategories.each do |subcategory| %>
      <tr>
        <td><%= subcategory.datatype_string %></td>
        <td><%= subcategory.tab_name %></td>
        <td><%= subcategory.operation_string %></td>
        <td><%= subcategory.tab_value %></td>
        <td><%= subcategory.code %></td>
        <td><%= link_to 'Detalhes', category_path( build_category_params subcategory ) %></td>
        <td><%= link_to 'Atualizar', edit_category_path( build_category_params subcategory ) %></td>
        <td><%= link_to 'Excluir', subcategory, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      <% end %>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="8" class="text-center"><%= link_to 'Nova subcategoria', new_category_path( build_category_params().merge({ company_id: @category.company }) ) %></td>      
      </tr>
    </tfoot>
  </table>
  <div class="text-right">
    <%= paginate @subcategories %>
    <%= page_entries_info @subcategories %>
  </div>
</p>


<%= link_to 'Atualizar', edit_category_path(@category) %> |
<%= link_to 'Voltar', @category.parent.nil? ? categories_path : @category.parent  %>
